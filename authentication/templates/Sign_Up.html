{% extends 'base.html' %}
{% load static %}
{% block title %}
Home
{% endblock %}
{% block content %}
<style>
    /* The message box is shown when the user clicks on the password field */
    #message {
        display: none;
        background: #f1f1f1;
        color: #000;
        position: relative;
        padding: 20px;
        margin-top: 10px;
    }

    #message p {
        padding: 10px 35px;
        font-size: 18px;
    }

    /* Add a green text color and a checkmark when the requirements are right */
    .valid {
        color: green;
    }


    /* Add a red text color and an "x" icon when the requirements are wrong */
    .invalid {
        color: red;
    }


</style>
<body>
<div class="header-head">
    <div class="container">
        <h1><a href="{% url 'index' %}">ChamaSpace</a></h1>
    </div>
</div>


<div class="login">
    <div class="containers">
        <div class="content">
            <form method="post" action="{% url 'Sign_up' %}" class="login-form">
                {% csrf_token %}
                <p class="title">
                    ChamaSpace
                </p>
                <br>
                <p class="log">Sign up for ChamaSpace for Free</p>
                <p class="log" style="text-decoration:#be2626"> {% include '_messages.html' %}</p>
                <hr/>

                <div class="form-input">
                    <span class="label">National Identification Number ( ID No.)</span>
                    <input class="input" type="number" name="nic_no" min="0" pattern="/^-?\d+\.?\d*$/"
                           onKeyPress="if(this.value.length==8) return false;" placeholder="Enter ID No." required>
                </div>

                <div class="form-input">
                    <span class="label">First Name</span>
                    <input class="input" type="text" name="fname" placeholder="First Name" required>
                </div>

                <div class="form-input">
                    <span class="label">Last Name</span>
                    <input class="input" type="text" name="lname" placeholder="Last Name" required>
                </div>

                <div class="form-input">
                    <span class="label">Phone Number (Must be registered on whatsapp)</span>
                    <input class="input" type="number" name="phone_no" min="0" pattern="/^-?\d+\.?\d*$/"
                           onKeyPress="if(this.value.length==10) return false;"
                           placeholder="Enter Phone Number without +254, like 0703642831" required>
                </div>

                <div class="form-input">
                    <span class="label">Password</span>
                    <input class="input" type="password" name="password" placeholder="Enter Password" id="fpassword"
                           required onkeyup='check();' pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                           title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">
                </div>

                <div class="form-input">
                    <span class="label">Confirm Password</span>
                    <input class="input" type="password" name="pass" id="spassword" placeholder="Confirm Your  Password"
                           required onkeyup='check();' pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                           title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">
                </div>
                <span id="message2"></span>
                <div id="message">
                    <h6>Password must contain the following:</h6>
                    <h6 id="length" class="invalid">Minimum <b>8 characters</b></h6>
                    <h6 id="letter" class="invalid"><b>lowercase</b> letter</h6>
                    <h6 id="capital" class="invalid"><b>Capital (Uppercase)</b> letter</h6>
                    <h6 id="number" class="invalid"><b>Number</b></h6>

                </div>
                <div class="container-button">
                    <button name="button" class="button" style="background-color: #565578"> Next</button>
                </div>

                <div class="last-buttons">
                    <input type="checkbox" required>
                    <span class="one">I agree to these <a
                            href="{% url 'term_conditions' %}">Terms and Conditions</a> </span>
                    <br>
                    <buttton class="three">Already have an account? <a href="{% url 'Login' %}">Log in</a></buttton>
                </div>
            </form>
        </div>
    </div>
</div>
</body>

<script>
    var check = function () {
        if (document.getElementById('fpassword').value ==
            document.getElementById('spassword').value) {
            document.getElementById('message2').style.color = 'green';
            document.getElementById('message2').innerHTML = 'Passwords match';
        } else {
            document.getElementById('message2').style.color = 'red';
            document.getElementById('message2').innerHTML = 'Passwords do not match';
        }
    }
</script>
<script>
    var myInput = document.getElementById("fpassword");
    var letter = document.getElementById("letter");
    var capital = document.getElementById("capital");
    var number = document.getElementById("number");
    var length = document.getElementById("length");

    // When the user clicks on the password field, show the message box
    myInput.onfocus = function () {
        document.getElementById("message").style.display = "block";
    }

    // When the user clicks outside of the password field, hide the message box
    myInput.onblur = function () {
        document.getElementById("message").style.display = "none";
    }

    // When the user starts to type something inside the password field
    myInput.onkeyup = function () {
        // Validate lowercase letters
        var lowerCaseLetters = /[a-z]/g;
        if (myInput.value.match(lowerCaseLetters)) {
            letter.classList.remove("invalid");
            letter.classList.add("valid");
        } else {
            letter.classList.remove("valid");
            letter.classList.add("invalid");
        }

        // Validate capital letters
        var upperCaseLetters = /[A-Z]/g;
        if (myInput.value.match(upperCaseLetters)) {
            capital.classList.remove("invalid");
            capital.classList.add("valid");
        } else {
            capital.classList.remove("valid");
            capital.classList.add("invalid");
        }

        // Validate numbers
        var numbers = /[0-9]/g;
        if (myInput.value.match(numbers)) {
            number.classList.remove("invalid");
            number.classList.add("valid");
        } else {
            number.classList.remove("valid");
            number.classList.add("invalid");
        }

        // Validate length
        if (myInput.value.length >= 8) {
            length.classList.remove("invalid");
            length.classList.add("valid");
        } else {
            length.classList.remove("valid");
            length.classList.add("invalid");
        }
    }
</script>


{% endblock %}
