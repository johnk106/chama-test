{%load static%}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
    href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
    rel="stylesheet"
  />
    <link rel="stylesheet" href="{%static 'chamas/brand-colors.css'%}" />
    <link rel="stylesheet" href="{%static 'chamas/chama-home.css'%}">
    
    <link rel="stylesheet" href="{%static 'chamas/chamas-base.css'%}" />

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
      <!-- Header styling CSS -->
  <link rel="stylesheet" href="{% static 'css/feather.css' %}">
  <link rel="stylesheet" href="{% static 'css/app-light.css' %}" id="lightTheme">
  <link rel="stylesheet" href="{% static 'css/style-test.css' %}">

  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
    <style rel="stylesheet">
  
    /* full‐screen overlay */
.modal {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background: rgba(0,0,0,0.4);
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

/* when visible */
.modal.show {
  display: flex;
}

/* white box */
.modal-content {
  background: #fff;
  border-radius: 12px;
  padding: 2rem;
  max-width: 90%;
  width: 400px;
  text-align: center;
  position: relative;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

/* the close “×” */
.close-btn {
  position: absolute;
  top: 0.5rem; right: 0.5rem;
  background: none;
  border: none;
  font-size: 1.5rem;
  line-height: 1;
  cursor: pointer;
}

/* optional icon styling */
.modal-icon img {
  width: 64px;
  height: 64px;
  margin-bottom: 1rem;
}


</style>
    <title>Chamas - Choose Your Type</title>
</head>
<body class="chama-home-page">
   <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <div class="logo_details">
          <img src="{%static 'chamas/logo.png'%}" alt="Logo" />
        </div>
        <ul class="nav-list">
          <li>
            <a href="{% url 'goals_dashboard' %}">
              <i class='bx bx-arrow-back'></i>
              <span class="link_name">Back to Dashboard</span>
            </a>
          </li>
          <li>
            <a href="{% url 'chamas:my-chamas' %}">
              <i class="fa-solid fa-gauge"></i>
              <span class="link_name">My Chamas</span>
            </a>
          </li>
          <li>
            <a href="#">
              <i class="fa-solid fa-group-arrows-rotate"></i>
              <span class="link_name">Merry-go-round chama</span>
            </a>
          </li>
          <li>
            <a href="#" class="bookeeping-window">
              <i class="fa-solid fa-clipboard"></i>
              <span class="link_name">Book keeping</span>
            </a>
          </li>
          <li>
            <a href="#">
              <i class="fa-solid fa-building-columns"></i>
              <span class="link_name">Table Banking</span>
            </a>
          </li>
        </ul>
      </div>

<!-- Full Width Layout -->
<div class="chama-home-layout">
    <!-- Desktop Header with Back Button -->
    <header class="chama-home-header">
         <nav class="topnav navbar navbar-light page_header hide_on_mobile">
        <div style="margin-left: auto;"></div> <!-- Spacer to push nav items to the right -->

        <ul class="nav">
          <li class="nav-item">
            <a class="nav-link text-muted my-2" href="#" id="modeSwitcher" data-mode="light">
              <i class="fe fe-sun fe-16"></i>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-muted my-2" href="./#" data-bs-toggle="modal" data-bs-target=".modal-shortcut">
              <span class="fe fe-grid fe-16"></span>
            </a>
          </li>
          <li class="nav-item nav-notif">
            <a class="nav-link text-muted my-2" href="./#" data-bs-toggle="modal" data-bs-target=".modal-notif">
              <span class="fe fe-bell fe-16"></span>
              <span class="dot dot-md bg-success"></span>
            </a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle text-muted pr-0" href="#" id="navbarDropdownMenuLink" role="button"
              data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <span class="avatar avatar-sm">
                {% if request.user.profile.picture %}
                <img src="{{ request.user.profile.picture.url }}" alt="img" class="avatar-img rounded-circle">
                {% else %}
                <img src="{% static 'assets/avatars/face-1.png' %}" alt="img" class="avatar-img rounded-circle">
                {% endif %}
              </span>
            </a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
              <a class="dropdown-item" href="{% url 'Setting' %}">Settings</a>
              <div class="dropdown-item">
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" id="viewToggleDesktop">
                  <label class="form-check-label" for="viewToggleDesktop">
                    <span class="switch-label-member">Member</span>
                    <span class="switch-label-admin" style="display: none;">Admin</span>
                  </label>
                </div>
              </div>
              <a class="dropdown-item" href="{% url 'Logout' %}">Logout</a>
            </div>
          </li>
        </ul>
      </nav>
    </header>

    <!-- Mobile Header -->
     <div class="page_header pt-3">
        <div class="container">
          <nav class="page_nav mob_nav show_on_mobile">
            <div class="brand">
              <a href="#">
                <img src="{% static 'images/Chama-Bora_clrd.png' %}" alt="">
              </a>
            </div>
            <ul class="nav-list">
              <li class="" data-bs-toggle="modal" data-bs-target=".modal-notif">
                <img src="{% static 'images/Notifications.png' %}" alt="">
              </li>
              &nbsp;&nbsp;
              <li class="">
                <button class="btn navbar-toggler text-muted" type="button" onclick="openNav()">
                  <img src="{% static 'images/menu.png' %}" class="avatar-img rounded-circle" alt="">
                </button>
              </li>
            </ul>
          </nav>
        </div>
      </div>

    <!-- Main Content -->
    <main class="chama-home-main">
        <!-- Welcome Header Section -->
        <div class="welcome-section">
            <!-- <div class="welcome-content">
                <h1 class="welcome-title">Welcome to Chamas</h1>
                <p class="welcome-description">
                    Join an Online Merry-Go-round Chama, manage your book keeping, or 
                    create and manage your Table Banking Chama. Everything you need 
                    to grow your financial community is right here.
                </p>
            </div> -->
        </div>

        <!-- Chama Types Selection Section -->
        <div class="chama-types-container">
            <div class="chama-types-section">
                <h2 class="section-title">Choose Your Chama Type</h2>
                <p class="section-subtitle">Select from our available chama management options</p>
                
                <div class="row chama-options-row">
                    <!-- Book Keeping - First Option -->
                    <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
                        <div class="chama-option-card available" id="book-keeping-card">
                            <div class="card-content">
                                <div class="card-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 25 24" fill="none">
                                        <path d="M20.2311 16H8.23103C7.30106 16 6.83607 16 6.45457 16.1022C5.41929 16.3796 4.61065 17.1883 4.33325 18.2235" stroke="#FFFFFF" stroke-width="1.5"/>
                                        <path d="M8.33325 7H16.3333" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="round"/>
                                        <path d="M8.33325 10.5H13.3333" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="round"/>
                                        <path d="M19.8333 19H8.33325" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="round"/>
                                        <path d="M10.3333 22C7.50482 22 6.09061 22 5.21193 21.1213C4.33325 20.2426 4.33325 18.8284 4.33325 16V8C4.33325 5.17157 4.33325 3.75736 5.21193 2.87868C6.09061 2 7.50482 2 10.3333 2H14.3333C17.1617 2 18.5759 2 19.4546 2.87868C20.3333 3.75736 20.3333 5.17157 20.3333 8M14.3333 22C17.1617 22 18.5759 22 19.4546 21.1213C20.3333 20.2426 20.3333 18.8284 20.3333 16V12" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                </div>
                                <h3 class="card-title">Book Keeping</h3>
                                <p class="card-description">
                                    Manage your chama's financial records, track contributions, loans, expenses, and generate reports.
                                </p>
                            </div>
                            <div class="card-status available-status">Available</div>
                        </div>
                    </div>

                    <!-- Merry-Go-Round Chama -->
                    <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
                        <div class="chama-option-card coming-soon">
                            <div class="card-content">
                                <div class="card-icon disabled">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none">
                                        <path d="M12 10C14.2091 10 16 8.20914 16 6C16 3.79086 14.2091 2 12 2C9.79086 2 8 3.79086 8 6C8 8.20914 9.79086 10 12 10Z" stroke="#94A3B8" stroke-width="1.5"/>
                                        <path opacity="0.5" d="M18 9C19.6569 9 21 7.88071 21 6.5C21 5.11929 19.6569 4 18 4" stroke="#94A3B8" stroke-width="1.5" stroke-linecap="round"/>
                                        <path opacity="0.5" d="M6 9C4.34315 9 3 7.88071 3 6.5C3 5.11929 4.34315 4 6 4" stroke="#94A3B8" stroke-width="1.5" stroke-linecap="round"/>
                                        <path d="M12 21C15.3137 21 18 19.2091 18 17C18 14.7909 15.3137 13 12 13C8.68629 13 6 14.7909 6 17C6 19.2091 8.68629 21 12 21Z" stroke="#94A3B8" stroke-width="1.5"/>
                                        <path opacity="0.5" d="M20 19C21.7542 18.6153 23 17.6411 23 16.5C23 15.3589 21.7542 14.3847 20 14" stroke="#94A3B8" stroke-width="1.5" stroke-linecap="round"/>
                                        <path opacity="0.5" d="M4 19C2.24575 18.6153 1 17.6411 1 16.5C1 15.3589 2.24575 14.3847 4 14" stroke="#94A3B8" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                </div>
                                <h3 class="card-title">Merry-Go-Round Chama</h3>
                                <p class="card-description">
                                    Join rotating savings groups where members contribute regularly and take turns receiving the total amount.
                                </p>
                            </div>
                            <div class="card-status coming-soon-status">Coming Soon</div>
                        </div>
                    </div>

                    <!-- Table Banking -->
                    <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
                        <div class="chama-option-card coming-soon">
                            <div class="card-content">
                                <div class="card-icon disabled">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 25 24" fill="none">
                                        <g clip-path="url(#clip0_4039_4475)">
                                            <path d="M24.0958 2.85742H6.952C6.80093 2.85742 6.65608 2.91755 6.54829 3.02458L0.833747 8.73921C0.727473 8.84624 0.666504 8.99134 0.666504 9.14292V20.5713C0.666504 20.887 0.922252 21.143 1.23728 21.143H24.0957C24.4108 21.143 24.6665 20.887 24.6665 20.5713V3.42904C24.6666 3.11342 24.4108 2.85742 24.0958 2.85742ZM23.5233 20.0005H1.80975V9.71446H6.952C7.26863 9.71446 7.52438 9.45846 7.52438 9.14283V3.99991H23.5233V20.0005Z" fill="#94A3B8"/>
                                            <path d="M5.80857 11.4285C5.49346 11.4285 5.23779 11.6845 5.23779 12.0002V16.2863C5.23779 16.6019 5.49346 16.8572 5.80857 16.8572H20.095C20.4101 16.8572 20.6659 16.6019 20.6659 16.2863V7.71442C20.6659 7.3988 20.4101 7.14355 20.095 7.14355H14.3805C14.0654 7.14355 13.8097 7.3988 13.8097 7.71442V11.4285H5.80857V11.4285ZM16.667 12.5718V15.7148H10.38V12.5718H16.667ZM6.38095 12.5718H9.23831V15.7148H6.38095V12.5718ZM17.8086 15.7147V12.5717H19.5242V15.7147H17.8086ZM19.5243 8.28613V11.4285H14.9529V8.28613H19.5243Z" fill="#94A3B8"/>
                                        </g>
                                        <defs>
                                            <clipPath id="clip0_4039_4475">
                                                <rect width="24" height="24" fill="white" transform="translate(0.666504)"/>
                                            </clipPath>
                                        </defs>
                                    </svg>
                                </div>
                                <h3 class="card-title">Table Banking</h3>
                                <p class="card-description">
                                    Create and manage investment groups focused on collective savings and loan schemes.
                                </p>
                            </div>
                            <div class="card-status coming-soon-status">Coming Soon</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- Mobile Footer -->
<style>
@media screen and (min-width: 992px) {
    .mbl_footer { display: none !important; }
}
@media screen and (max-width: 991px) {
    body { padding-bottom: 80px !important; }
    .mbl_footer { display: block !important; }
}
</style>
<footer class="mbl_footer" style="background: #2291A5 !important; background-color: #2291A5 !important; position: fixed; bottom: 0; left: 0; right: 0; z-index: 1000; padding: 10px 0; display: block;">
    <div class="container">
        <div class="footer_row d-flex flex-row justify-content-between align-items-center" style="padding: 0 15px;">
            <a href="{% url 'my_goals' %}" class="footer_button btn" style="color: #fff; text-decoration: none; display: flex; flex-direction: column; align-items: center; padding: 8px 12px;">
                <img class="homer_white" src="{% static 'images/home_white.png' %}" alt="" style="width: 24px; height: 24px; margin-bottom: 4px; filter: brightness(0) invert(1);">
                <p style="margin: 0; color: #fff; font-size: 12px; text-align: center;">Home</p>
            </a>
            <a href="{% url 'chamas:chamas' %}" class="footer_button btn" style="color: #fff; text-decoration: none; display: flex; flex-direction: column; align-items: center; padding: 8px 12px; border-radius: 8px;">
                <img src="{% static 'images/filter_active.png' %}" alt="" style="width: 24px; height: 24px; margin-bottom: 4px; filter: brightness(0) invert(1);">
                <p style="margin: 0; color: #fff; font-size: 12px; text-align: center; font-weight: 600;">Features</p>
            </a>
            <a href="#" class="footer_button btn coming_soon" style="color: #fff; text-decoration: none; display: flex; flex-direction: column; align-items: center; padding: 8px 12px;">
                <img src="{% static 'images/wallet_alt_fill.png' %}" alt="" style="width: 24px; height: 24px; margin-bottom: 4px; filter: brightness(0) invert(1);">
                <p style="margin: 0; color: #fff; font-size: 12px; text-align: center;">Account</p>
            </a>
            <a href="{% url 'Setting' %}" class="footer_button btn" style="color: #fff; text-decoration: none; display: flex; flex-direction: column; align-items: center; padding: 8px 12px;">
                <img src="{% static 'images/setting.png' %}" alt="" style="width: 24px; height: 24px; margin-bottom: 4px; filter: brightness(0) invert(1);">
                <p style="margin: 0; color: #fff; font-size: 12px; text-align: center;">Settings</p>
            </a>
        </div>
    </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<div id="comingSoonModal" class="modal">
  <div class="modal-content">
    <button class="close-btn" aria-label="Close">&times;</button>

    <!-- inline SVG clock icon -->
    <div class="modal-icon">
      <svg xmlns="http://www.w3.org/2000/svg"
           width="64" height="64"
           viewBox="0 0 24 24"
           fill="none"
           stroke="#333"
           stroke-width="2"
           stroke-linecap="round"
           stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"/>
        <polyline points="12 6 12 12 16 14"/>
      </svg>
    </div>

    <h2>Coming Soon!</h2>
    <p>We’re busy cooking up something great for this feature. Stay tuned!</p>
  </div>
</div>

 <script>
  document.addEventListener('DOMContentLoaded', function() {
    const modal = document.getElementById('comingSoonModal');
    const closeBtn = modal.querySelector('.close-btn');

    // Show modal helper
    function showComingSoon() {
      modal.classList.add('show');
    }

    // Hide modal helper
    function hideComingSoon() {
      modal.classList.remove('show');
    }

    // Attach click handler to each feature tile
    document.querySelectorAll('.coming_soon').forEach(tile => {
      tile.addEventListener('click', showComingSoon);
    });

    // Close button
    closeBtn.addEventListener('click', hideComingSoon);

    // Also close if user clicks outside the content box
    modal.addEventListener('click', function(e) {
      if (e.target === modal) hideComingSoon();
    });
  });
</script>
<script>
$(document).ready(function() {
    // Book keeping card click handler
    $('#book-keeping-card').on('click', function(event) {
        event.preventDefault();
        if ($(this).hasClass('available')) {
            window.location.href = `/chamas-bookeeping/your-chamas/`;
        }
    });

    // Add hover effects for available cards
    $('.chama-option-card.available').hover(
        function() {
            $(this).addClass('hover-effect');
        },
        function() {
            $(this).removeClass('hover-effect');
        }
    );
});
</script>
<script>
      /* Enhanced Mobile Navigation Functions */
      function openNav() {
          const sidenav = document.getElementById("mySidenav");
          const overlay = document.querySelector(".mobile-overlay");
          const body = document.body;
          
          console.log("Opening navigation sidebar"); // Debug log
          
          if (sidenav) {
              sidenav.style.width = "280px";
              sidenav.style.display = "block";
              console.log("Sidebar width set to 280px"); // Debug log
          }
          
          if (overlay) {
              overlay.style.display = "block";
              overlay.style.opacity = "1";
              console.log("Overlay displayed"); // Debug log
          }
          
          // Add class to body to prevent scrolling
          body.classList.add("sidebar-open");
          
          // Add touch/click event to close on outside click
          setTimeout(() => {
              document.addEventListener('click', outsideClickHandler);
          }, 100);
      }

      function closeNav() {
          const sidenav = document.getElementById("mySidenav");
          const overlay = document.querySelector(".mobile-overlay");
          const body = document.body;
          
          console.log("Closing navigation sidebar"); // Debug log
          
          if (sidenav) {
              sidenav.style.width = "0";
              setTimeout(() => {
                  sidenav.style.display = "none";
              }, 300);
              console.log("Sidebar width set to 0"); // Debug log
          }
          
          if (overlay) {
              overlay.style.opacity = "0";
              setTimeout(() => {
                  overlay.style.display = "none";
              }, 300);
              console.log("Overlay hidden"); // Debug log
          }
          
          // Remove class from body
          body.classList.remove("sidebar-open");
          
          // Remove event listener
          document.removeEventListener('click', outsideClickHandler);
      }

      function outsideClickHandler(event) {
          const sidenav = document.getElementById("mySidenav");
          const menuBtn = document.querySelector('.menu-btn');
          
          // Check if click is outside sidebar and not on menu button
          if (!sidenav.contains(event.target) && !menuBtn.contains(event.target)) {
              closeNav();
          }
      }

      // Initialize mobile navigation on page load
      document.addEventListener('DOMContentLoaded', function() {
          // Ensure mobile overlay exists
          let overlay = document.querySelector('.mobile-overlay');
          if (!overlay) {
              overlay = document.createElement('div');
              overlay.className = 'mobile-overlay';
              document.body.appendChild(overlay);
          }
          
          // Close sidebar on window resize if moving to desktop
          window.addEventListener('resize', function() {
              if (window.innerWidth > 768) {
                  closeNav();
              }
          });
      });

      $(document).ready(function () {
        // Book keeping window functionality
        $(".bookeeping-window").click(function(e) {
          e.preventDefault();
          // Add your book keeping functionality here
          console.log("Book keeping clicked");
        });
      });
    </script>



</body>
</html>